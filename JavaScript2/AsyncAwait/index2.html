<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resolve callback hell using Async</title>
  </head>
  <body>
    <button onclick="executeOrder()">Execute Order</button>
    <script>
      const chefReceived = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Chef received the order and start preparing");
          }, 2000);
        });
      

      const pizzaSauceAdded = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Pizza Sauce added");
          }, 5000);
        });
      ;

      const firstLayerOfCheeseAddded = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("First layer of cheese added");
          }, 5000);
        });
      ;

      const toppingsAdded = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Toppings Added");
          }, 4000);
        });
      ;

      const secondLayerOfCheeseAdded = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Second Layer of Cheese Added");
          }, 5000);
        });
      ;

      const pizzaBaked = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Pizza Baked");
          }, 5000);
        });
      ;

      const OrganoAdded = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Oregano Added");
          }, 3000);
        });
      ;

      const packageReceivedAtCounter = () => 
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("Package received at Counter");
          }, 2000);
        });
      ;

      const executeOrder = async () => {
        try {
          console.log("Order Placed");
          const o1 = await chefReceived();
          console.log(o1);
          const o2 = await pizzaSauceAdded();
          console.log(o2);
          const o3 = await firstLayerOfCheeseAddded();
          console.log(o3);
          const o4 = await toppingsAdded();
          console.log(o4);
          const o5 = await secondLayerOfCheeseAdded();
          console.log(o5);
          const o6 = await pizzaBaked();
          console.log(o6);
          const o7 = await OrganoAdded();
          console.log(o7);
          const o8 = await packageReceivedAtCounter();
          console.log(o8);
          console.log("Order is shipped");
        } catch (err) {
          console.log(err);
        }
      };
    </script>
  </body>
</html> -->
  
 <!-- Below code is same but in function return statement is added that makes the code more clean and increases code readability -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Resolve Callback Hell using Async Await</title>
	<script>
		const chefReceived = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Chef received the order and started preparing')
					resolve()
				}, 2000)
			})
		}

		const pizzaSauceAdded = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Pizza Sauce added')
					resolve()
				}, 10000)
			})
		}

		const firstLayerOfCheezeAdded = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('First layer of cheeze added')
					resolve()
				}, 5000)
			})
		}

		const toppingsAdded = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Toppings added')
					resolve()
				}, 12000)
			})
		}

		const secondLayerOfCheezeAdded = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Second layer of cheeze added')
					resolve()
				}, 5000)
			})
		}

		const pizzaBaked = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Pizza baked!')
					resolve()
				}, 15000)
			})
		}

		const oreganoAdded = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Oregano added and packed')
					resolve()
				}, 8000)
			})
		}

		const packageReceivedAtCounter = () => {
			return new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('Package received at counter')
					resolve()
				}, 2000)
			})
		}

		const executeOrder = async () => {
			try {
				console.log('Order Placed')
				await chefReceived()
				await pizzaSauceAdded()
				await firstLayerOfCheezeAdded()
				await toppingsAdded()
				await secondLayerOfCheezeAdded()
				await pizzaBaked()
				await oreganoAdded()
				await packageReceivedAtCounter() 
				console.log('The order is ready and handed over to the Zomato guy!')
			} catch (err) {
				console.log(err)
			}
		}
	</script>
</head>
<body>
	<button onClick="executeOrder(() => {
		console.log('The order is ready and handed over to the Zomato guy!')
	})">Execute Order</button>
</body>
</html>